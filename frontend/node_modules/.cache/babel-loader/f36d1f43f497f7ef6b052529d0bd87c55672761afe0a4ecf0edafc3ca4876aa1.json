{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./employeeForm.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ranks=['LCpl','Cpl','Sgt','SSgt','GySgt','1st Lt'];const batteries=['A','B','C','H&S'];const EmployeeForm=_ref=>{let{employeeInput,setEmployeeInput,handleAddEmployee,phoneInput,setPhoneInput}=_ref;const[leaveStart,setLeaveStart]=useState('');const[leaveEnd,setLeaveEnd]=useState('');// const [phoneInput, setPhoneInput] = useState('');\nuseEffect(()=>{console.log(\"phoneInput state:\",phoneInput);},[phoneInput]);// Get all dates between the given start and end dates\nconst getDatesBetween=(start,end)=>{const dateArray=[];const current=new Date(start);const endDate=new Date(end);while(current<=endDate){dateArray.push(current.toISOString().split('T')[0]);current.setDate(current.getDate()+1);}return dateArray;};// Add leave range to the employee's leave list\nconst addLeaveRange=()=>{if(!leaveStart||!leaveEnd||leaveEnd<leaveStart)return;const newDates=getDatesBetween(leaveStart,leaveEnd);const overlaps=newDates.filter(d=>employeeInput.leaves.includes(d));if(overlaps.length>0){alert(`Some dates already exist: ${overlaps.join(', ')}`);return;}setEmployeeInput({...employeeInput,leaves:[...employeeInput.leaves,...newDates]});setLeaveStart('');setLeaveEnd('');};// Remove specific leave date from the employee's list\nconst removeLeaveDate=date=>{setEmployeeInput({...employeeInput,leaves:employeeInput.leaves.filter(d=>d!==date)});};// Update the phone number input when rank is selected\nconst handleSubmit=()=>{handleAddEmployee();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Name\",value:employeeInput.name,onChange:e=>setEmployeeInput({...employeeInput,name:e.target.value})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Rank\"}),/*#__PURE__*/_jsxs(\"select\",{value:employeeInput.rank,onChange:e=>setEmployeeInput({...employeeInput,rank:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Rank\"}),ranks.map(rank=>/*#__PURE__*/_jsx(\"option\",{value:rank,children:rank},rank))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Battery\"}),/*#__PURE__*/_jsxs(\"select\",{value:employeeInput.battery,onChange:e=>setEmployeeInput({...employeeInput,battery:e.target.value}),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Battery\"}),batteries.map(bat=>/*#__PURE__*/_jsx(\"option\",{value:bat,children:bat},bat))]})]}),employeeInput.rank&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"phoneInput\",children:['LCpl'].includes(employeeInput.rank)?'A Duty Phone':'OOD Phone'}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",id:\"phoneInput\",placeholder:\"e.g. 555-1234\",value:phoneInput,onChange:e=>{console.log('Phone input changed:',e.target.value);setPhoneInput(e.target.value);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"full-width\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"leave-picker\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:leaveStart,onChange:e=>setLeaveStart(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{children:\"to\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",value:leaveEnd,onChange:e=>setLeaveEnd(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:addLeaveRange,children:\"\\u2795 Add Leave Range\"})]}),employeeInput.leaves.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"leave-list\",children:employeeInput.leaves.map((date,idx)=>{const dayName=new Date(date).toLocaleDateString('en-US',{weekday:'short'});const isWeekend=new Date(date).getDay()===0||new Date(date).getDay()===6;return/*#__PURE__*/_jsxs(\"li\",{className:isWeekend?'weekend-leave':'',children:[date,\" (\",dayName,\")\",/*#__PURE__*/_jsx(\"button\",{onClick:()=>removeLeaveDate(date),children:\"\\u274C\"})]},idx);})})]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"})]});};export default EmployeeForm;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ranks","batteries","EmployeeForm","_ref","employeeInput","setEmployeeInput","handleAddEmployee","phoneInput","setPhoneInput","leaveStart","setLeaveStart","leaveEnd","setLeaveEnd","console","log","getDatesBetween","start","end","dateArray","current","Date","endDate","push","toISOString","split","setDate","getDate","addLeaveRange","newDates","overlaps","filter","d","leaves","includes","length","alert","join","removeLeaveDate","date","handleSubmit","children","className","type","placeholder","value","name","onChange","e","target","rank","map","battery","bat","htmlFor","id","onClick","idx","dayName","toLocaleDateString","weekday","isWeekend","getDay"],"sources":["/Users/vihangawagholkar/Desktop/firewatch/frontend/src/components/employeeForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './employeeForm.css';\n\nconst ranks = ['LCpl', 'Cpl', 'Sgt', 'SSgt', 'GySgt','1st Lt'];\nconst batteries = ['A', 'B', 'C', 'H&S'];\n\nconst EmployeeForm = ({ employeeInput, setEmployeeInput, handleAddEmployee, phoneInput, setPhoneInput}) => {\n  const [leaveStart, setLeaveStart] = useState('');\n  const [leaveEnd, setLeaveEnd] = useState('');\n  // const [phoneInput, setPhoneInput] = useState('');\n\n  useEffect(() => {\n    console.log(\"phoneInput state:\", phoneInput);\n  }, [phoneInput]);\n  // Get all dates between the given start and end dates\n  const getDatesBetween = (start, end) => {\n    const dateArray = [];\n    const current = new Date(start);\n    const endDate = new Date(end);\n    while (current <= endDate) {\n      dateArray.push(current.toISOString().split('T')[0]);\n      current.setDate(current.getDate() + 1);\n    }\n    return dateArray;\n  };\n\n  // Add leave range to the employee's leave list\n  const addLeaveRange = () => {\n    if (!leaveStart || !leaveEnd || leaveEnd < leaveStart) return;\n\n    const newDates = getDatesBetween(leaveStart, leaveEnd);\n    const overlaps = newDates.filter(d => employeeInput.leaves.includes(d));\n\n    if (overlaps.length > 0) {\n      alert(`Some dates already exist: ${overlaps.join(', ')}`);\n      return;\n    }\n\n    setEmployeeInput({\n      ...employeeInput,\n      leaves: [...employeeInput.leaves, ...newDates],\n    });\n    setLeaveStart('');\n    setLeaveEnd('');\n  };\n\n  // Remove specific leave date from the employee's list\n  const removeLeaveDate = (date) => {\n    setEmployeeInput({\n      ...employeeInput,\n      leaves: employeeInput.leaves.filter(d => d !== date),\n    });\n  };\n\n  // Update the phone number input when rank is selected\n \n  const handleSubmit = () => {\n    handleAddEmployee();\n  };\n\n  return (\n    <>\n      <div className=\"form-grid\">\n        <div>\n          <label>Name</label>\n          <input\n            type=\"text\"\n            placeholder=\"Name\"\n            value={employeeInput.name}\n            onChange={(e) => setEmployeeInput({ ...employeeInput, name: e.target.value })}\n          />\n        </div>\n        <div>\n          <label>Rank</label>\n          <select\n            value={employeeInput.rank}\n            onChange={(e) => setEmployeeInput({ ...employeeInput, rank: e.target.value })}\n          >\n            <option value=\"\">Select Rank</option>\n            {ranks.map(rank => <option key={rank} value={rank}>{rank}</option>)}\n          </select>\n        </div>\n        <div>\n          <label>Battery</label>\n          <select\n            value={employeeInput.battery}\n            onChange={(e) => setEmployeeInput({ ...employeeInput, battery: e.target.value })}\n          >\n            <option value=\"\">Select Battery</option>\n            {batteries.map(bat => <option key={bat} value={bat}>{bat}</option>)}\n          </select>\n        </div>\n\n        {/* Display phone input conditionally */}\n        {employeeInput.rank && (\n          <div>\n            <label htmlFor=\"phoneInput\">\n              {['LCpl'].includes(employeeInput.rank) ? 'A Duty Phone' : 'OOD Phone'}\n            </label>\n            <input\n              type=\"tel\"\n              id=\"phoneInput\"\n              placeholder=\"e.g. 555-1234\"\n              value={phoneInput}\n              onChange={(e) => {console.log('Phone input changed:', e.target.value);\n                setPhoneInput(e.target.value)}}\n            />\n          </div>\n        )}\n\n        {/* Leave date range selection */}\n        <div className=\"full-width\">\n          <div className=\"leave-picker\">\n            <input\n              type=\"date\"\n              value={leaveStart}\n              onChange={(e) => setLeaveStart(e.target.value)}\n            />\n            <span>to</span>\n            <input\n              type=\"date\"\n              value={leaveEnd}\n              onChange={(e) => setLeaveEnd(e.target.value)}\n            />\n            <button type=\"button\" onClick={addLeaveRange}>➕ Add Leave Range</button>\n          </div>\n\n          {/* Display added leave dates */}\n          {employeeInput.leaves.length > 0 && (\n            <ul className=\"leave-list\">\n              {employeeInput.leaves.map((date, idx) => {\n                const dayName = new Date(date).toLocaleDateString('en-US', { weekday: 'short' });\n                const isWeekend = new Date(date).getDay() === 0 || new Date(date).getDay() === 6;\n\n                return (\n                  <li key={idx} className={isWeekend ? 'weekend-leave' : ''}>\n                    {date} ({dayName})\n                    <button onClick={() => removeLeaveDate(date)}>❌</button>\n                  </li>\n                );\n              })}\n            </ul>\n          )}\n        </div>\n      </div>\n\n      {/* Submit button */}\n      <button onClick={handleSubmit}>Submit</button>\n    </>\n  );\n};\n\nexport default EmployeeForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}